# ๐ DoH Proxy Pro - Cloudflare

ฺฉ DoH (DNS over HTTPS) Proxy ูุฏุฑุชููุฏ ุจุง ุชฺฉููููฺ Parallel Racingุ Circuit Breakerุ Geo-selection ู ุงุฏฺฏุฑ ุชุทุจู - ฺฉุงููุงู ุฑุงฺฏุงู!

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange.svg)](https://workers.cloudflare.com/)
[![Cloudflare Pages](https://img.shields.io/badge/Cloudflare-Pages-green.svg)](https://pages.cloudflare.com/)

## ๐ ุฏุฑุจุงุฑู ูพุฑูฺู

DoH Proxy Pro ฺฉ ุณุฑูุณ DNS over HTTPS ูพุดุฑูุชู ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ Cloudflare Workers ู Pages ุณุงุฎุชู ุดุฏู ู ุงูฺฉุงู ุฑูุฒูฺฏุงุฑ ฺฉุงูู DNS queries ุดูุง ุฑุง ุจุง ุจุงูุงุชุฑู ุณุทุญ ุงููุช ู ุณุฑุนุช ูุฑุงูู ูโฺฉูุฏ.

### โจ ูฺฺฏโูุง ูพุดุฑูุชู

#### ๐ฏ Parallel DNS Racing
- ููุฒูุงู ุจู **10 ุณุฑูุฑ DNS ุจุฑุชุฑ** ุฏุฑุฎูุงุณุช ูโูุฑุณุชุฏ
- ุงููู ูพุงุณุฎ ุณุฑุน ุฑุง ูุจูู ูโฺฉูุฏ
- ฺฉุงูุด ฺุดูฺฏุฑ Latency
- ุงูุฒุงุด ูุงุจูุช ุงุทููุงู

#### ๐ Circuit Breaker Pattern
- ุดูุงุณุง ุฎูุฏฺฉุงุฑ ุณุฑูุฑูุง ูุงุณุงูู
- ูุทุน ูููุช ุณุฑูุฑูุง ุจุง ุจุด ุงุฒ 5 ุดฺฉุณุช ูุชูุงู
- ุจุงุฒุงุจ ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ 60 ุซุงูู
- ุณู ุญุงูุช: Closed, Open, Half-Open

#### ๐ Geo-based Provider Selection
- ุดูุงุณุง ุฎูุฏฺฉุงุฑ ูููุนุช ุฌุบุฑุงูุง ฺฉุงุฑุจุฑ
- ุงูููุชโุฏู ุจู ุณุฑูุฑูุง ูุฒุฏฺฉ (ฺฉุงูุด Latency)
- ูพุดุชุจุงู ุงุฒ 6 ููุทูู: NA, EU, Asia, Oceania, SA, Global
- ูุฒู 15% ุฏุฑ ุงูุชุงุฒุฏู ููุง

#### ๐ง AI Adaptive Learning
- ุงุฏฺฏุฑ ุชุทุจู ุงุฒ ุนููฺฉุฑุฏ ุณุฑูุฑูุง
- ุงูุชุฎุงุจ ููุดููุฏ ุจุฑ ุงุณุงุณ ุชุงุฑุฎฺู
- ุจูููโุณุงุฒ ุฎูุฏฺฉุงุฑ ุฏุฑ ุทูู ุฒูุงู
- ุงูุชุงุฒุฏู ูพูุง: **35% ุณูุงูุช + 30% ุณุฑุนุช + 20% ูุงุจูุช ุงุทููุงู + 15% ููุทูู ุฌุบุฑุงูุง**

#### ๐ ูพุดุชุจุงู ุงุฒ ุจุด ุงุฒ 200 ุณุฑูุฑ DNS ูุนุชุจุฑ
- Cloudflare, Google, Quad9, OpenDNS
- AdGuard, NextDNS, Mullvad
- BlahDNS (ูููุงูุฏุ ฺุงูพูุ ุขููุงูุ ุณูฺฏุงูพูุฑ)
- Pi-DNS (ุงุฑููพุงุ ุขูุฑฺฉุง)
- DNScrypt Servers (ูุฑุงูุณูุ ูููุฏุ ุขูุฑฺฉุงุ ุณูฺฏุงูพูุฑุ ุงุณุชุฑุงูุงุ ฺุงูพู)
- ู ุฏูโูุง ุณุฑูุฑ ุฏฺฏุฑ ุจุง ูพูุดุด ุฌูุงู...

#### ๐ ุญุฑู ุฎุตูุต ู ุงููุช ูพุดุฑูุชู
- **DNS Padding (RFC 8467)**: ุงุถุงูู ฺฉุฑุฏู 16-80 ุจุงุช Padding ุชุตุงุฏู ุจุฑุง ุฌููฺฏุฑ ุงุฒ Traffic Analysis
- **QNAME Minimization**: ุญุฏุงููโุณุงุฒ ุงุทูุงุนุงุช ุฏุฑ Query ูุง
- **ECS Stripping**: ุญุฐู EDNS Client Subnet ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุดุช IP
- **Enhanced Header Randomization**: ุชุตุงุฏูโุณุงุฒ ูพุดุฑูุชู Headers (X-Request-ID, X-Client-Version, Accept-Language, Sec-CH-UA)
- **Random Header Ordering**: ุชุฑุชุจ ุชุตุงุฏู Headers ุจุฑุง ุถุฏ Fingerprinting

#### ๐ก๏ธ ุถุฏ ุณุงูุณูุฑ ู ูุฏุฑุช ุฎุทุง
- **Health Check** ุฎูุฏฺฉุงุฑ ูุฑ 90 ุซุงูู
- **Circuit Breaker** ุจุฑุง ูุฏุฑุช ุฎุฑุงุจ
- **Intelligent Fallback** ุฏุฑ ุตูุฑุช ุดฺฉุณุช Racing
- **Domain Fronting** Simulation
- **Random Delay** (5-100ms) ุจุฑุง ุถุฏ DPI
- **Enhanced Decoy Requests** ุจุง ุงุญุชูุงู 25% ุจุฑุง ฺฏูุฑุงูโุณุงุฒ
- **Request Deduplication** ุจุฑุง ุฌููฺฏุฑ ุงุฒ Query ูุง ุชฺฉุฑุงุฑ

#### โก ุนููฺฉุฑุฏ ู ฺฉุงุฑุง ุจุงูุง
- **Smart LRU Cache** ุจุง TTL ุฎูุฏฺฉุงุฑ ู ูุฏุฑุช ููุดููุฏ (8000 entries)
- **Negative Caching** ุจุฑุง NXDOMAIN responses (300s TTL, 2000 entries)
- **Adaptive Timeouts** ุจุฑ ุงุณุงุณ ูุงูฺฏู ุฒูุงู ูพุงุณุฎ ูุฑ ุณุฑูุฑ
- **Load Balancing** ูพูุง ุจุง ูุฒูโุฏู ููุทููโุง
- **Concurrent Request Management** ุจุง ูุญุฏูุฏุช 150 ุฏุฑุฎูุงุณุช ููุฒูุงู
- **Advanced Rate Limiting** (200 ุฏุฑุฎูุงุณุช ุฏุฑ ุฏููู ุจู ุงุฒุง ูุฑ IP)
- ุงุณุชูุงุฏู ุงุฒ ุดุจฺฉู ุฌูุงู Cloudflare CDN

#### ๐ ูุงูุชูุฑูฺฏ ู ุขูุงุฑ
- **Real-time Stats Page** ุจุง Dark Theme
- ููุงุด Top 15 ุณุฑูุฑูุง ูุนุงู
- ุขูุงุฑ ุฒูุฏู: ุชุนุฏุงุฏ ุณุฑูุฑูุงุ ุณุฑูุฑูุง ุณุงููุ ูุงูฺฏู ุณูุงูุชุ ุชุนุฏุงุฏ ฺฉู ุฏุฑุฎูุงุณุชโูุง
- ููุงุด ุฏุฑุตุฏ ููููุชุ ุฒูุงู ูพุงุณุฎุ ู ุณูุงูุช ูุฑ ุณุฑูุฑ
- Responsive Design ุจุฑุง ููุจุงู
- ุฌุฏูู ุงุณฺฉุฑููโูพุฐุฑ ุจุง Sticky Header

## ๐ญ ุฏู ุฑูุด ุงุณุชูุฑุงุฑ

### 1๏ธโฃ Cloudflare Workers

**ููุงุณุจ ุจุฑุง:** ุงุณุชูุฑุงุฑ ุณุฑุน ู ูุณุชูู

**ูุฒุงุง:**
- ุฑุงูโุงูุฏุงุฒ ุณุฑุนโุชุฑ
- ูุฏุฑุช ุขุณุงูโุชุฑ
- ุจุฏูู ูุงุฒ ุจู GitHub

**ูุงู ููุฑุฏ ูุงุฒ:** `worker.js`

### 2๏ธโฃ Cloudflare Pages

**ููุงุณุจ ุจุฑุง:** ุงุชุตุงู ุจู GitHub ู ุขูพุฏุช ุฎูุฏฺฉุงุฑ

**ูุฒุงุง:**
- ุงุชุตุงู ูุณุชูู ุจู GitHub
- ุขูพุฏุช ุฎูุฏฺฉุงุฑ ุจุง ูุฑ Push
- ูุงุจูุช CI/CD

**ูุงู ููุฑุฏ ูุงุฒ:** `[[path]].js` ุฏุฑ ูพูุดู `functions/`

## ๐ ุฑุงูููุง ูุตุจ

### ุฑูุด 1: Cloudflare Workers (ุชูุตู ุดุฏู ุจุฑุง ูุจุชุฏุงู)

#### ูุฑุญูู 1: ุงุฌุงุฏ Worker

1. ุจู [dash.cloudflare.com](https://dash.cloudflare.com) ุจุฑูุฏ ู ูุงุฑุฏ ุดูุฏ
2. ุงุฒ ููู ุณูุช ฺูพ **Workers & Pages** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุฑู **Create Application** ฺฉูฺฉ ฺฉูุฏ
4. **Create Worker** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
5. ฺฉ ูุงู ุจุฑุง Worker ุงูุชุฎุงุจ ฺฉูุฏ (ูุซูุงู `my-doh-proxy`)
6. ุฑู **Deploy** ฺฉูฺฉ ฺฉูุฏ

#### ูุฑุญูู 2: ฺฉูพ ฺฉุฑุฏู ฺฉุฏ

1. ุฑู **Edit Code** ฺฉูฺฉ ฺฉูุฏ
2. ุชูุงู ฺฉุฏ ูพุดโูุฑุถ ุฑุง ูพุงฺฉ ฺฉูุฏ
3. ูุญุชูุง ูุงู `DoH_Proxy_Pro_Complete.txt` ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฌุงฺฏุฐุงุฑ ฺฉูุฏ
4. ุฑู **Save and Deploy** ฺฉูฺฉ ฺฉูุฏ

#### ูุฑุญูู 3: ุฏุฑุงูุช URL

ุจุนุฏ ุงุฒ Deployุ URL ุณุฑูุณ ุดูุง:

```
https://your-worker-name.your-subdomain.workers.dev/dns-query
```

### ุฑูุด 2: Cloudflare Pages (ุชูุตู ุดุฏู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู)

#### ูุฑุญูู 1: ุขูุงุฏูโุณุงุฒ Repository

1. ุงู ุฑูพุงุฒุชูุฑ ุฑุง Fork ฺฉูุฏ ุง ุฑูพุงุฒุชูุฑ ุฌุฏุฏ ุจุณุงุฒุฏ
2. ุณุงุฎุชุงุฑ ูพูุดูโูุง:
```
your-repository/
โโโ functions/
โ   โโโ [[path]].js
โโโ README.md
```
3. ูุงู `[[path]].js` ุฑุง ุฏุฑ ูพูุดู `functions/` ูุฑุงุฑ ุฏูุฏ

#### ูุฑุญูู 2: ุงุชุตุงู ุจู Cloudflare Pages

1. ุจู [dash.cloudflare.com](https://dash.cloudflare.com) ุจุฑูุฏ ู ูุงุฑุฏ ุดูุฏ
2. ุงุฒ ููู ุณูุช ฺูพ **Workers & Pages** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. ุฑู **Create Application** ฺฉูฺฉ ฺฉูุฏ
4. **Pages** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
5. ุฑู **Connect to Git** ฺฉูฺฉ ฺฉูุฏ
6. ุฑูพุงุฒุชูุฑ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
7. ุฏุฑ Build settings:
   - Framework preset: **None**
   - Build command: ุฎุงู ุจฺฏุฐุงุฑุฏ
   - Build output directory: ุฎุงู ุจฺฏุฐุงุฑุฏ
8. ุฑู **Save and Deploy** ฺฉูฺฉ ฺฉูุฏ

#### ูุฑุญูู 3: ุฏุฑุงูุช URL

ุจุนุฏ ุงุฒ Deployุ URL ุณุฑูุณ ุดูุง:

```
https://your-page-name.pages.dev/dns-query
```

## ๐ฑ ุฑุงูููุง ุงุณุชูุงุฏู

### ๐ ูุฑูุฑฺฏุฑูุง

#### Firefox

```
Settings โ Privacy & Security โ DNS over HTTPS
โ Choose provider: Custom
โ URL ุฑุง ูุงุฑุฏ ฺฉูุฏ
```

**ูุนุงูโุณุงุฒ ECH ุจุฑุง ุงููุช ุจุดุชุฑ:**
1. ุฏุฑ ุขุฏุฑุณโุจุงุฑ: `about:config`
2. ุฌุณุชุฌู: `network.dns.echconfig.enabled`
3. ููุฏุงุฑ ุฑุง ุฑู `true` ูุฑุงุฑ ุฏูุฏ

#### Chrome / Edge / Brave

```
Settings โ Privacy and security โ Security
โ Use secure DNS โ Custom
โ URL ุฑุง ูุงุฑุฏ ฺฉูุฏ
```

### ๐ฑ ููุจุงู

#### Android (ุงูพูฺฉุดู Intra)

1. [Intra](https://play.google.com/store/apps/details?id=app.intra) ุฑุง ุงุฒ Google Play ูุตุจ ฺฉูุฏ
2. ุงูพูฺฉุดู ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุฑู **Configure custom server URL** ุจุฒูุฏ
4. URL ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ: `https://your-domain/dns-query`
5. ุฏฺฉูู **ON** ุฑุง ูุนุงู ฺฉูุฏ

#### iOS, iPadOS ู macOS

**ุฏุงูููุฏ ุฎูุฏฺฉุงุฑ ูพุฑููุงู:**

1. ุจู ุขุฏุฑุณ ุณุฑูุณ ุฎูุฏ ุจุฑูุฏ (ุจุฏูู `/dns-query`)
2. ุฑู ุฏฺฉูู **๐ ุฏุงูููุฏ ูพุฑููุงู iOS/macOS** ฺฉูฺฉ ฺฉูุฏ
3. ูุงู `.mobileconfig` ุฏุงูููุฏ ูโุดูุฏ

**ูุตุจ ุฏุฑ iOS/iPadOS:**
```
Safari โ ุฏุงูููุฏ ูุงู
Settings โ General โ VPN, DNS & Device Management
โ Downloaded Profile โ Install
```

**ูุตุจ ุฏุฑ macOS:**
```
ุฏุงูููุฏ ูุงู
System Settings โ Privacy & Security โ Profiles
โ ูุตุจ ูพุฑููุงู
```

### ๐ง ฺฉูุงูุชโูุง Xray

#### ฺฉุงููฺฏ ุณุงุฏู (ููุท DoH)

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ DoH ุฏุฑ v2rayNG ู ฺฉูุงูุชโูุง ูุดุงุจู:

1. ูุงุฑุฏ ุตูุญู ุงุตู ุณุฑูุณ ุดูุฏ (ุจุฏูู `/dns-query`)
2. ฺฉุงููฺฏ ุณุงุฏู ุฑุง ฺฉูพ ฺฉูุฏ
3. ุฏุฑ ฺฉูุงูุช ุฎูุฏ Import ฺฉูุฏ

**ูุงุจูุช:** ุฑูุฒูฺฏุงุฑ DNS

#### ฺฉุงููฺฏ Fragment (ุชูุตู ูโุดูุฏ)

ุจุฑุง ุฏูุฑ ุฒุฏู ููุชุฑูฺฏโูุง ูพุดุฑูุชู:

1. ูุงุฑุฏ ุตูุญู ุงุตู ุณุฑูุณ ุดูุฏ
2. ฺฉุงููฺฏ Fragment ุฑุง ฺฉูพ ฺฉูุฏ
3. ุฏุฑ ฺฉูุงูุช ุฎูุฏ Import ฺฉูุฏ

**ูุงุจูุชโูุง:**
- ุฑูุฒูฺฏุงุฑ DNS
- Fragment ุจุฑุง ุฏูุฑ ุฒุฏู DPI
- ุชฺฉูโุชฺฉู ฺฉุฑุฏู TLS Hello
- ูพูุฑุช SOCKS (10808) ู HTTP (10809)

### ๐ป ุฏุณฺฉุชุงูพ

#### Windows 10/11

```
Settings โ Network & Internet โ Properties
โ DNS server assignment โ Edit
โ Preferred DNS encryption: Encrypted only (DNS over HTTPS)
โ URL ุฑุง ูุงุฑุฏ ฺฉูุฏ
```

#### Linux (systemd-resolved)

1. ูุฑุงุด ูุงู ุชูุธูุงุช:
```bash
sudo nano /etc/systemd/resolved.conf
```

2. ุงุถุงูู ฺฉุฑุฏู ุงู ุฎุทูุท:
```ini
[Resolve]
DNS=https://your-domain/dns-query
DNSOverTLS=yes
```

3. ุฑโุงุณุชุงุฑุช ุณุฑูุณ:
```bash
sudo systemctl restart systemd-resolved
```

#### macOS

ุงุฒ ุฑูุด iOS ุงุณุชูุงุฏู ฺฉูุฏ (ุฏุงูููุฏ ูพุฑููุงู)

### ๐ง ุฑูุชุฑ

ุงฺฏุฑ ุฑูุชุฑ ุดูุง ุงุฒ DoH ูพุดุชุจุงู ูโฺฉูุฏ:

```
ุชูุธูุงุช DNS โ DoH/DNS over HTTPS
โ URL ุณุฑูุณ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
```

**ูุฒุช:** ุชูุงู ุฏุณุชฺฏุงูโูุง ูุชุตู ุจู ุดุจฺฉู ุงุฒ DNS ุงูู ุงุณุชูุงุฏู ูโฺฉููุฏ

## ๐ ูุดุงูุฏู ุขูุงุฑ ุฒูุฏู

ุจุฑุง ูุดุงูุฏู ุขูุงุฑ Real-time ุณุฑูุฑูุง:

```
https://your-domain/stats
```

**ุงุทูุงุนุงุช ูุงุจู ูุดุงูุฏู:**
- ุชุนุฏุงุฏ ฺฉู ุณุฑูุฑูุง (212+)
- ุชุนุฏุงุฏ ุณุฑูุฑูุง ุณุงูู
- ูุงูฺฏู ุณูุงูุช ฺฉู ุณุณุชู
- ุชุนุฏุงุฏ ฺฉู ุฏุฑุฎูุงุณุชโูุง
- ุฌุฏูู Top 15 ุณุฑูุฑ ุจุง:
  - ุฑุชุจู ู ูุงู ุณุฑูุฑ
  - ููุทูู ุฌุบุฑุงูุง
  - ุฏุฑุตุฏ ููููุช
  - ุฒูุงู ูุงูฺฏู ูพุงุณุฎ
  - ุณูุงูุช (ุจุง ููุงุฑ ฺฏุฑุงูฺฉ)

## ๐งช ุชุณุช ุณุฑูุณ

### ุฑูุด 1: ูุฑูุฑฺฏุฑ

ุจู ุขุฏุฑุณ ุงุตู ุณุฑูุณ ุจุฑูุฏ (ุจุฏูู `/dns-query`):

```
https://your-domain
```

ุงฺฏุฑ ุตูุญู ุจุง badge ุณุจุฒ "Pro" ู ูุถุนุช "ูุนุงู ู ุขูุงุฏู ุจู ฺฉุงุฑ" ููุงุด ุฏุงุฏู ุดุฏุ ุณุฑูุณ ุจู ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ.

### ุฑูุด 2: ุตูุญู ุขูุงุฑ

```
https://your-domain/stats
```

ุงุทูุงุนุงุช ูุถุนุช ุณุฑูุฑูุงุ Cache ู ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ุฑุง ููุงุด ูโุฏูุฏ.

### ุฑูุด 3: cURL

```bash
curl -H 'accept: application/dns-json' \
  'https://your-domain/dns-query?name=google.com&type=A'
```

## โ๏ธ ุชูุธูุงุช ูพุดุฑูุชู

### ุชุบุฑ ุชุนุฏุงุฏ ุณุฑูุฑูุง ููุฒูุงู Racing

```javascript
const PARALLEL_RACING_COUNT = 10;
```

### ุชุบุฑ Timeout ูุง

```javascript
const RACE_TIMEOUT = 4000;
const FALLBACK_TIMEOUT = 3000;
```

### ุชุบุฑ Circuit Breaker

```javascript
const CIRCUIT_BREAKER_THRESHOLD = 5;
const CIRCUIT_BREAKER_TIMEOUT = 60000;
```

### ุชุบุฑ Rate Limit

```javascript
const RATE_LIMIT_REQUESTS = 200;
const RATE_LIMIT_WINDOW = 60000;
```

### ุชุบุฑ Cache TTL

```javascript
const DNS_CACHE_TTL_MIN = 60;
const DNS_CACHE_TTL_MAX = 3600;
const DNS_CACHE_TTL_DEFAULT = 300;
```

### ุชุบุฑ Negative Cache TTL

```javascript
const NEGATIVE_CACHE_TTL = 300;
```

### ุชุบุฑ ุงุญุชูุงู Decoy Requests

```javascript
const DECOY_REQUEST_PROBABILITY = 0.25;
```

### ุชุบุฑ Random Delay Range

```javascript
const RANDOM_DELAY_MIN = 5;
const RANDOM_DELAY_MAX = 100;
```

### ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ูุงุจูุชโูุง ุญุฑู ุฎุตูุต

```javascript
const QNAME_MINIMIZATION_ENABLED = true;
const DNS_PADDING_ENABLED = true;
const ECS_STRIPPING_ENABLED = true;
```

### ุชุบุฑ ุงูุฏุงุฒู Cache

```javascript
// Main cache size
if (dnsCache.size > 8000) {
    // Evict 2000 oldest entries
}

// Negative cache size
if (negativeDnsCache.size > 2000) {
    // Evict 500 oldest entries
}
```

## ๐ ูุญุฏูุฏุชโูุง

### Cloudflare Workers Free Plan:

- โ **100,000** ุฏุฑุฎูุงุณุช ุฏุฑ ุฑูุฒ
- โ **10ms** CPU time ุฏุฑ ูุฑ ุฏุฑุฎูุงุณุช
- โ ุจุฏูู ูุญุฏูุฏุช Bandwidth

### Cloudflare Pages Free Plan:

- โ **ูุงูุญุฏูุฏ** ุฏุฑุฎูุงุณุช
- โ **500** build ุฏุฑ ูุงู
- โ ุจุฏูู ูุญุฏูุฏุช Bandwidth

**ุงู ููุงุฏุฑ ุจุฑุง ุงุณุชูุงุฏู ุดุฎุต ู ุญุช ุณุงุฒูุงู ฺฉูฺฺฉ ฺฉุงููุงู ฺฉุงู ุงุณุช!**

## ๐ก ุฏุฑฺฉ ุงููุงุน ููุชุฑูฺฏ

### 1. DNS Filtering โ
- ุณุงุช ุฏุฑ ุณุทุญ DNS ูุณุฏูุฏ ูโุดูุฏ
- **ุงู DoH Proxy ุงู ููุน ููุชุฑูฺฏ ุฑุง ุฏูุฑ ูโุฒูุฏ**

### 2. SNI Filtering โ๏ธ
- ุณุงุช ุจุฑ ุงุณุงุณ Server Name Indication ูุณุฏูุฏ ูโุดูุฏ
- ูุงุฒ ุจู ECH ุง ุงุจุฒุงุฑ ุงุถุงู

### 3. IP Blocking โ
- ุขุฏุฑุณ IP ุณุฑูุฑ ูุณุฏูุฏ ูโุดูุฏ
- ูุงุฒ ุจู VPN

### 4. Deep Packet Inspection (DPI) โ๏ธ
- ุจุฑุฑุณ ุนูู ูุญุชูุง ุจุณุชูโูุง
- ฺฉุงููฺฏ Fragment ูโุชูุงูุฏ ฺฉูฺฉ ฺฉูุฏ
- ุจุฑุง ุฏูุฑ ุฒุฏู ฺฉุงูู ูุงุฒ ุจู VPN

## โ ุณูุงูุงุช ูุชุฏุงูู

### ุขุง ุงู ุณุฑูุณ VPN ุงุณุชุ
ุฎุฑ. ุงู ุณุฑูุณ ููุท DNS queries ุฑุง ุฑูุฒูฺฏุงุฑ ูโฺฉูุฏ ู ุฌุงฺฏุฒู VPN ูุณุช.

### ฺู ุณุงุชโูุง ูุงุจู ุฏุณุชุฑุณ ูโุดููุฏุ
ุณุงุชโูุง ฺฉู ููุท ุจุง DNS ููุชุฑ ุดุฏูโุงูุฏ. ุจุฑุง ุณุงุฑ ููุงุฑุฏ ุจู VPN ูุงุฒ ุฏุงุฑุฏ.

### ุชฺฉููููฺ Parallel Racing ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ
ุงู ุณุณุชู ููุฒูุงู ุจู 10 ุณุฑูุฑ DNS ุจุฑุชุฑ (ุจุง ุงูุชุงุฒุฏู ุจุฑ ุงุณุงุณ ููุทูู ุฌุบุฑุงูุงุ ุณุฑุนุชุ ุณูุงูุช ู ูุงุจูุช ุงุทููุงู) ุฏุฑุฎูุงุณุช ูโูุฑุณุชุฏ ู ุงููู ูพุงุณุฎ ุณุฑุน ุฑุง ูุจูู ูโฺฉูุฏ. ุงู ุจุงุนุซ ฺฉุงูุด latency ู ุงูุฒุงุด ูุงุจูุช ุงุทููุงู ูโุดูุฏ.

### Circuit Breaker ฺุณุชุ
ูฺฉุงูุฒู ุจุฑุง ุดูุงุณุง ุฎูุฏฺฉุงุฑ ุณุฑูุฑูุง ูุงุณุงูู. ุงฺฏุฑ ฺฉ ุณุฑูุฑ 5 ุจุงุฑ ูุชูุงู ุดฺฉุณุช ุจุฎูุฑุฏุ ุจุฑุง 60 ุซุงูู ุงุฒ ฺุฑุฎู ุฎุงุฑุฌ ูโุดูุฏ ู ุจุนุฏ ุฏูุจุงุฑู ุชุณุช ูโุดูุฏ.

### Geo-based Selection ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ
ุณุณุชู ุจุฑ ุงุณุงุณ ฺฉุดูุฑ ฺฉุงุฑุจุฑ (ุงุฒ ุทุฑู Cloudflare)ุ ุณุฑูุฑูุง ูุฒุฏฺฉโุชุฑ ุฑุง ุจุง ูุฒู ุจุดุชุฑ (15%) ุฏุฑ ุงูุชุงุฒุฏู ุงูููุช ูโุฏูุฏ. ุงู ุจุงุนุซ ฺฉุงูุด latency ูโุดูุฏ.

### ุงุฏฺฏุฑ ุชุทุจู ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ
ุณุณุชู ุนููฺฉุฑุฏ ูุฑ ุณุฑูุฑ ุฑุง (ุณุฑุนุชุ ููููุชุ ูุงุจูุช ุงุทููุงู) ุซุจุช ู ุชุญูู ูโฺฉูุฏ ู ุจุฑ ุงุณุงุณ ุงู ุงุทูุงุนุงุชุ ุณุฑูุฑูุง ุจูุชุฑ ุฑุง ุงูููุช ูโุฏูุฏ. ุงูุชุงุฒุฏู: 35% ุณูุงูุช + 30% ุณุฑุนุช + 20% ูุงุจูุช ุงุทููุงู + 15% ููุทูู ุฌุบุฑุงูุง.

### DNS Padding ฺุณุชุ
ุชฺฉูฺฉ ูุทุงุจู RFC 8467 ฺฉู 16-80 ุจุงุช ุฏุงุฏู ุชุตุงุฏู ุจู Query ุงุถุงูู ูโฺฉูุฏ ุชุง ุงุฒ Traffic Analysis ู ุดูุงุณุง ุงูฺฏููุง ุงุณุชูุงุฏู ุฌููฺฏุฑ ฺฉูุฏ.

### QNAME Minimization ฺุณุชุ
ุชฺฉูฺฉ ุจุฑุง ุญุฏุงูู ฺฉุฑุฏู ุงุทูุงุนุงุช ุงุฑุณุงู ุฏุฑ Query ูุง ุจู ููุธูุฑ ุงูุฒุงุด ุญุฑู ุฎุตูุต.

### ECS Stripping ฺุณุชุ
ุญุฐู EDNS Client Subnet ุงุฒ Query ูุง ฺฉู ุงุฒ ูุดุช ุงุทูุงุนุงุช IP ุดูุง ุจู ุณุฑูุฑูุง DNS ุฌููฺฏุฑ ูโฺฉูุฏ.

### Negative Caching ฺุณุชุ
Cache ฺฉุฑุฏู ูพุงุณุฎโูุง NXDOMAIN (ุฏุงููู ูุฌูุฏ ูุฏุงุฑุฏ) ุจุฑุง 300 ุซุงูู ุชุง ุงุฒ Query ูุง ุชฺฉุฑุงุฑ ุจุฑุง ุฏุงูููโูุง ูุงูุนุชุจุฑ ุฌููฺฏุฑ ุดูุฏ.

### Adaptive Timeout ฺุณุชุ
ุณุณุชู ุจุฑ ุงุณุงุณ ูุงูฺฏู ุฒูุงู ูพุงุณุฎ ูุฑ ุณุฑูุฑุ Timeout ุฑุง ุจู ุตูุฑุช ูพูุง ุชูุธู ูโฺฉูุฏ: `min(baseTimeout, max(1000ms, avgResponseTime * 3))`

### Fragment ฺุณุชุ
ุชฺฉูฺฉ ุจุฑุง ุชฺฉูโุชฺฉู ฺฉุฑุฏู ุจุณุชูโูุง TLS Hello ฺฉู ุงุฒ ุดูุงุณุง ุชูุณุท DPI ุฌููฺฏุฑ ูโฺฉูุฏ.

### ุขุง ุณุฑุนุช ุงูุชุฑูุช ฺฉุงูุด ูโุงุจุฏุ
ุฎุฑุ ุจูฺฉู ููฺฉู ุงุณุช ุงูุฒุงุด ุงุจุฏ. ุจุง Racing Modeุ Adaptive Timeoutุ Smart Caching ู Geo-selectionุ ูุนูููุงู ุณุฑุนุช ุจูุชุฑ ูโุดูุฏ.

### Request Deduplication ฺุณุชุ
ุฌููฺฏุฑ ุงุฒ ุงุฑุณุงู Query ูุง ุชฺฉุฑุงุฑ ุฏุฑ ฺฉ ุฒูุงู. ุงฺฏุฑ ุฏู ุฏุฑุฎูุงุณุช ฺฉุณุงู ููุฒูุงู ุจุงุฏุ ููุท ฺฉ ูพุฑุฏุงุฒุด ูโุดูุฏ.

### Enhanced Header Randomization ฺุณุชุ
ุชุตุงุฏูโุณุงุฒ ูพุดุฑูุชู Header ูุง HTTP (User-Agent, Accept, X-Request-ID, X-Client-Version, Accept-Language, Sec-CH-UA) ุจุฑุง ุฌููฺฏุฑ ุงุฒ Fingerprinting ู ุดูุงุณุง.

### ุขุง ุงู ุณุฑูุณ ุฑุงฺฏุงู ุงุณุชุ
ุจููุ ฺฉุงููุงู ุฑุงฺฏุงู ู ุจุฏูู ูุญุฏูุฏุช ุชุฑุงูฺฉ.

### ฺุทูุฑ ูโุชูุงูู ุขูุงุฑ ุณุฑูุฑูุง ุฑุง ุจุจููุ
ุจู ุขุฏุฑุณ `/stats` ุจุฑูุฏ. ุตูุญู Real-time ุจุง ุงุทูุงุนุงุช ฺฉุงูู ุณุฑูุฑูุง ููุงุด ุฏุงุฏู ูโุดูุฏ.

## ๐ก๏ธ ุชูุตูโูุง ุงููุช

### ุณูุงุฑู 1: ููุท ููุชุฑูฺฏ DNS
โ ุงุณุชูุงุฏู ุงุฒ ุงู DoH Proxy ฺฉุงู ุงุณุช

### ุณูุงุฑู 2: ููุชุฑูฺฏ ูพุดุฑูุชูโุชุฑ
โ ุงุณุชูุงุฏู ุงุฒ DoH Proxy  
โ ูุนุงูโุณุงุฒ ECH ุฏุฑ ูุฑูุฑฺฏุฑ  
โ ุงุณุชูุงุฏู ุงุฒ ฺฉุงููฺฏ Fragment  
โ VPN ุจุฑุง ูุงูโูุง ุฏฺฏุฑ

### ูฺฉุงุช ุนููู
- ุงุฒ ูุฑูุฑฺฏุฑูุง ุจูโุฑูุฒ ุงุณุชูุงุฏู ฺฉูุฏ
- HTTPS ุฑุง ููุดู ูุนุงู ูฺฏู ุฏุงุฑุฏ
- ุงุฒ ูุฑูโุงูุฒุงุฑูุง ุงููุช ูุนุชุจุฑ ุงุณุชูุงุฏู ฺฉูุฏ
- ุฑูุฒูุง ุนุจูุฑ ูู ุฏุงุดุชู ุจุงุดุฏ

## ๐ฌ ูุนูุงุฑ ุชฺฉูฺฉ

### ุงูฺฏูุฑุชู ุงูุชุงุฒุฏู ุณุฑูุฑูุง

```
Score = (Health ร 0.35) + (Speed ร 0.30) + (Reliability ร 0.20) + (Region ร 0.15) - Freshness_Penalty

Health Score: 0-100 (ุจุง ุฌุฑูู 12 ุงูุชุงุฒ ุจุฑุง ูุฑ ุดฺฉุณุช ูุชูุงู)
Speed Score: 100 - (avgResponseTime / 40)
Reliability Score: (successCount / totalRequests) ร 100
Region Score: 100 (ููุทูู ูุทุงุจู) | 75 (Global) | 50 (ุณุงุฑ ููุงุทู)
Freshness Penalty: max(15, timeSinceLastCheck / 12000)
```

### ูุฏุฑุช Cache

**Main DNS Cache:**
- ุณุงุฒ: 8000 entries
- TTL: 60-3600 ุซุงูู (ุงุณุชุฎุฑุงุฌ ุงุฒ ูพุงุณุฎ DNS)
- Eviction: LRU ุจุง ุญุฐู 2000 ูุฏูโุชุฑู entry ุฏุฑ ุตูุฑุช ูพุฑ ุดุฏู

**Negative Cache:**
- ุณุงุฒ: 2000 entries
- TTL: 300 ุซุงูู (ุซุงุจุช)
- Eviction: ุญุฐู 500 ูุฏูโุชุฑู entry ุฏุฑ ุตูุฑุช ูพุฑ ุดุฏู

### Circuit Breaker States

```
CLOSED โ (5 failures) โ OPEN โ (60s timeout) โ HALF-OPEN โ (success) โ CLOSED
                                              โ (failure)
                                            OPEN
```

### Health Check Cycle

```
Interval: 90 ุซุงูู
Concurrent Checks: 12 ุณุฑูุฑ
Test Query: example.com A Record
Timeout: 2500ms
```

## ๐ ููฺฉโูุง ููุฏ

- [ูุณุชูุฏุงุช Cloudflare Workers](https://developers.cloudflare.com/workers/)
- [ูุณุชูุฏุงุช Cloudflare Pages](https://developers.cloudflare.com/pages/)
- [RFC 8484 - DNS over HTTPS](https://datatracker.ietf.org/doc/html/rfc8484)
- [RFC 8467 - DNS Padding](https://datatracker.ietf.org/doc/html/rfc8467)
- [RFC 7816 - QNAME Minimization](https://datatracker.ietf.org/doc/html/rfc7816)
- [Cloudflare DNS](https://1.1.1.1/)
- [ุงูพูฺฉุดู Intra](https://getintra.org/)

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ูุงู [LICENSE](LICENSE) ุฑุง ูุดุงูุฏู ฺฉูุฏ.

## ๐จโ๐ป ุณุงุฒูุฏู

ุทุฑุงุญ ู ุชูุณุนู ุชูุณุท: [Anonymous](https://t.me/BXAMbot)

---

โญ ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุง ุดูุง ููุฏ ุจูุฏุ ฺฉ ุณุชุงุฑู ุจู ุขู ุจุฏูุฏ!

๐ ุจุฑุง ุงูุชุฑูุช ุขุฒุงุฏ ู ุงูู