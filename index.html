<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DoH Proxy قدرتمند با Cloudflare Worker یا Cloudflare Pages - رمزنگاری DNS با امنیت بالا">
    <meta name="keywords" content="DoH, DNS over HTTPS, Cloudflare Worker, Cloudflare Pages, Privacy, Security">
    <title>Cloudflare DoH Proxy - ساخت DNS امن شخصی</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="header">
        <h1>🔒 Cloudflare DoH Proxy</h1>
        <p>ساخت DNS over HTTPS شخصی با امنیت بالا - رایگان و آسان</p>
    </div>

    <div class="container">
        <div class="card">
            <h2>🚀 DoH Proxy چیست؟</h2>
            <p>DNS over HTTPS (DoH) یک پروتکل امنیتی است که درخواست‌های DNS شما را رمزنگاری می‌کند و از سانسور و نظارت جلوگیری می‌کند. با این پروژه می‌توانید یک سرویس DoH شخصی و رایگان برای خود بسازید.</p>
            
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-icon">🔐</div>
                    <h4>رمزنگاری کامل</h4>
                    <p>تمام DNS queries شما رمزنگاری می‌شود</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">⚡</div>
                    <h4>سرعت بالا</h4>
                    <p>استفاده از شبکه جهانی Cloudflare</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">🆓</div>
                    <h4>کاملاً رایگان</h4>
                    <p>تا 100,000 درخواست در روز</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">🛡️</div>
                    <h4>امنیت بالا</h4>
                    <p>محافظت از حریم خصوصی</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>📥 نصب و راه‌اندازی</h2>
            
            <h3>گام اول: ایجاد Cloudflare Worker</h3>
            <div class="step">
                <span class="step-number">1</span>
                <strong>ورود به Cloudflare:</strong> به <a href="https://dash.cloudflare.com" target="_blank">dash.cloudflare.com</a> بروید و وارد حساب کاربری خود شوید.
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <strong>ساخت Worker:</strong> از منوی سمت چپ Workers & Pages را انتخاب کنید و روی Create Application کلیک کنید.
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <strong>نام‌گذاری:</strong> یک نام برای Worker خود انتخاب کنید و روی Deploy کلیک کنید.
            </div>
            
            <div class="step">
                <span class="step-number">4</span>
                <strong>ویرایش کد:</strong> روی Edit Code کلیک کنید و تمام کد پیش‌فرض را پاک کنید.
            </div>
            
            <div class="step">
                <span class="step-number">5</span>
                <strong>کپی کردن کد:</strong> فایل <code>worker.js</code> را از repository باز کنید و محتوای آن را در Worker جایگذاری کنید.
            </div>
            
            <div class="step">
                <span class="step-number">6</span>
                <strong>ذخیره و Deploy:</strong> روی Save and Deploy کلیک کنید.
            </div>

            <div class="success-box">
                <strong>✅ تبریک!</strong> DoH Proxy شما با Cloudflare Worker آماده است.
            </div>

            <hr style="margin: 30px 0; border: none; border-top: 1px solid #e2e8f0;">

            <h3>🚀 روش جایگزین: استفاده از Cloudflare Pages</h3>
            <p>علاوه بر Cloudflare Worker، می‌توانید همین DoH Proxy را از طریق Cloudflare Pages نیز راه‌اندازی کنید. این روش برای افرادی مناسب است که می‌خواهند پروژه را مستقیماً از GitHub به Cloudflare متصل کنند.</p>
            
            <div class="step">
                <span class="step-number">1</span>
                <strong>اتصال GitHub به Cloudflare Pages:</strong>
                <p>در داشبورد Cloudflare، از منوی <strong>Workers & Pages</strong> گزینه <strong>Create Application</strong> را انتخاب کنید و سپس <strong>Create Pages</strong> را بزنید.</p>
            </div>
            
            <div class="step">
                <span class="step-number">2</span>
                <strong>انتخاب Repository:</strong>
                <p>ریپازیتوری <code>cloudflare-doh-proxy</code> را از GitHub انتخاب کنید یا فورک شخصی خودتان را وارد نمایید.</p>
            </div>
            
            <div class="step">
                <span class="step-number">3</span>
                <strong>انتخاب Branch و مسیر Build:</strong>
                <p>Branch اصلی (معمولاً <code>main</code>) را انتخاب کنید. نیازی به تنظیم Build Command نیست. فقط مسیر Root پروژه را انتخاب کنید.</p>
            </div>
            
            <div class="step">
                <span class="step-number">4</span>
                <strong>افزودن فایل _worker.js:</strong>
                <p>در ریشهٔ ریپازیتوری فایل <code>_worker.js</code> وجود دارد. این فایل به‌طور خودکار هنگام Deploy در Pages برای هندل کردن درخواست‌های DoH فعال می‌شود.</p>
            </div>
            
            <div class="step">
                <span class="step-number">5</span>
                <strong>اتمام و Deploy:</strong>
                <p>روی <strong>Deploy site</strong> کلیک کنید و منتظر بمانید تا سایت ساخته شود. آدرس نهایی شما معمولاً به شکل زیر خواهد بود:</p>
                <pre>https://your-project-name.pages.dev/dns-query</pre>
            </div>

            <div class="success-box">
                <strong>✅ تبریک!</strong> اکنون DoH Proxy شما از طریق <strong>Cloudflare Pages</strong> نیز فعال است.
                <p style="margin-top:10px; font-size:0.9em;">در صورت تمایل می‌توانید هر دو روش (Worker و Pages) را همزمان داشته باشید.</p>
            </div>
        </div>

        <div class="card">
            <h2>📱 نحوه استفاده</h2>
            
            <h3>مرورگر Firefox</h3>
            <div class="step">
                Settings → Privacy & Security → DNS over HTTPS → Custom
            </div>
            
            <h3>مرورگر Chrome/Edge</h3>
            <div class="step">
                Settings → Privacy and security → Security → Use secure DNS → Custom
            </div>
            
            <h3>اپلیکیشن Intra (اندروید)</h3>
            <div class="step">
                اپلیکیشن Intra را نصب کنید → Configure custom server URL → URL خود را وارد کنید
            </div>

            <h3>iOS, iPadOS و macOS</h3>
            <div class="step">
                <strong>دانلود پروفایل شخصی:</strong>
                <p style="margin-top: 10px;">برای استفاده در دستگاه‌های اپل، پروفایل DoH شخصی خود را دانلود کنید. این پروفایل به صورت خودکار با URL اختصاصی شما ساخته می‌شود.</p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #94a3b8;">بعد از Deploy کردن Worker یا Pages، صفحه وب را باز کنید و دکمه دانلود پروفایل iOS/macOS را کلیک کنید.</p>
            </div>

            <h3>کلاینت‌های Xray (v2rayNG و مشابه)</h3>
            <div class="step">
                <strong>برای استفاده در کلاینت‌های مبتنی بر Xray:</strong>
                <p style="margin-top: 10px;">کانفیگ زیر را دانلود کرده و URL خود را در قسمت مشخص شده جایگزین کنید:</p>
                <p style="margin-top: 10px;"><a href="https://raw.githubusercontent.com/4n0nymou3/cloudflare-doh-proxy/refs/heads/main/xray-doh-proxy-client-config.jsonc" target="_blank" style="color: #60a5fa; text-decoration: underline;">📥 دانلود کانفیگ Xray</a></p>
                <p style="margin-top: 10px; font-size: 0.9em; color: #94a3b8;">این کانفیگ یک اتصال مستقیم با DNS امن ایجاد می‌کند. توجه: فقط DNS امن می‌شود، نه ترافیک شما.</p>
            </div>
            
            <h3>ویندوز 11</h3>
            <div class="step">
                Settings → Network & Internet → Properties → DNS server assignment → Edit
            </div>
        </div>

        <div class="card">
            <h2>⚙️ ویژگی‌های پیشرفته</h2>
            
            <h3>🌐 استفاده از 4 سرور DNS</h3>
            <p>این DoH Proxy به صورت خودکار از 4 سرور DNS معتبر استفاده می‌کند:</p>
            <ul>
                <li>Cloudflare DNS (1.1.1.1)</li>
                <li>Google DNS (8.8.8.8)</li>
                <li>Quad9 DNS (9.9.9.9)</li>
                <li>OpenDNS</li>
            </ul>
            
            <div class="warning-box">
                <strong>⚠️ توجه مهم:</strong> این سرویس فقط DNS queries را رمزنگاری می‌کند و جایگزین VPN نیست.
            </div>
        </div>

        <div class="card">
            <h2>🔗 لینک‌های مفید</h2>
            <div class="button-group">
                <a href="https://github.com/4n0nymou3/cloudflare-doh-proxy" class="btn-primary" target="_blank">📂 مشاهده در GitHub</a>
                <a href="https://dash.cloudflare.com" class="btn-primary" target="_blank">☁️ ورود به Cloudflare</a>
                <a href="docs/installation-guide.md" class="btn-primary">📖 راهنمای کامل</a>
            </div>
        </div>
    </div>

    <div class="footer">
        <p>ساخته شده با ❤️ برای اینترنت آزاد</p>
        <p>Designed by: <a href="https://t.me/BXAMbot" target="_blank">Anonymous</a></p>
        <p class="footer-links">
            <a href="https://github.com/4n0nymou3/cloudflare-doh-proxy" target="_blank">GitHub</a> | 
            <a href="https://github.com/4n0nymou3/cloudflare-doh-proxy/issues" target="_blank">گزارش مشکل</a> | 
            <a href="LICENSE" target="_blank">مجوز</a>
        </p>
    </div>

    <script src="assets/js/main.js"></script>
</body>
</html>